From 907466d0770bd3b08f040a9a4db516857992609b Mon Sep 17 00:00:00 2001
From: Honggang Li <honli@redhat.com>
Date: Wed, 30 Jan 2019 01:51:11 -0500
Subject: [PATCH] Add shebang for exp scripts

The shebang '#!/usr/bin/expect -f' will make opa-ff packages require
expect rpm package.

Following bash script had been applied to fix this issue.

for f in $(find -type f -name '*.exp') ; do
        sed -e '1 i\#!/usr/bin/expect -f' -i $f
done

Signed-off-by: Honggang Li <honli@redhat.com>
---
 IbaTools/FastFabric/chassis_configure.exp          | 1 +
 IbaTools/FastFabric/chassis_fmconfig.exp           | 1 +
 IbaTools/FastFabric/chassis_fmcontrol.exp          | 1 +
 IbaTools/FastFabric/chassis_fmgetconfig.exp        | 1 +
 IbaTools/FastFabric/chassis_fmgetsecurityfiles.exp | 1 +
 IbaTools/FastFabric/chassis_fmsecurityfiles.exp    | 1 +
 IbaTools/FastFabric/chassis_getconfig.exp          | 1 +
 IbaTools/FastFabric/chassis_reboot.exp             | 1 +
 IbaTools/FastFabric/chassis_upgrade.exp            | 1 +
 IbaTools/FastFabric/configipoib.exp                | 1 +
 IbaTools/FastFabric/ff_function.exp                | 1 +
 IbaTools/FastFabric/ipoibping.exp                  | 1 +
 IbaTools/FastFabric/load.exp                       | 1 +
 IbaTools/FastFabric/mpiperf.exp                    | 1 +
 IbaTools/FastFabric/mpiperfdeviation.exp           | 1 +
 IbaTools/FastFabric/reboot.exp                     | 1 +
 IbaTools/FastFabric/sacache.exp                    | 1 +
 IbaTools/FastFabric/switch_capture.exp             | 1 +
 IbaTools/FastFabric/switch_configure.exp           | 1 +
 IbaTools/FastFabric/switch_dump.exp                | 1 +
 IbaTools/FastFabric/switch_fwverify.exp            | 1 +
 IbaTools/FastFabric/switch_getconfig.exp           | 1 +
 IbaTools/FastFabric/switch_hwvpd.exp               | 1 +
 IbaTools/FastFabric/switch_info.exp                | 1 +
 IbaTools/FastFabric/switch_ping.exp                | 1 +
 IbaTools/FastFabric/switch_reboot.exp              | 1 +
 IbaTools/FastFabric/switch_upgrade.exp             | 1 +
 IbaTools/FastFabric/upgrade.exp                    | 1 +
 TestTools/basic.exp                                | 1 +
 TestTools/chassis.exp                              | 1 +
 TestTools/common_funcs.exp                         | 1 +
 TestTools/defs.exp                                 | 1 +
 TestTools/extmng.exp                               | 1 +
 TestTools/ib.exp                                   | 1 +
 TestTools/ibtools.exp                              | 1 +
 TestTools/install.exp                              | 1 +
 TestTools/mpi.exp                                  | 1 +
 TestTools/network.exp                              | 1 +
 TestTools/opa_to_xml.exp                           | 1 +
 TestTools/proc_mgr.exp                             | 1 +
 TestTools/sm_control.exp                           | 1 +
 TestTools/switch_methods.exp                       | 1 +
 TestTools/target.exp                               | 1 +
 TestTools/tools.exp                                | 1 +
 44 files changed, 44 insertions(+)

diff --git a/IbaTools/FastFabric/chassis_configure.exp b/IbaTools/FastFabric/chassis_configure.exp
index f18397f..e373a46 100644
--- a/IbaTools/FastFabric/chassis_configure.exp
+++ b/IbaTools/FastFabric/chassis_configure.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/IbaTools/FastFabric/chassis_fmconfig.exp b/IbaTools/FastFabric/chassis_fmconfig.exp
index 9ec04cc..8040a37 100755
--- a/IbaTools/FastFabric/chassis_fmconfig.exp
+++ b/IbaTools/FastFabric/chassis_fmconfig.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/chassis_fmcontrol.exp b/IbaTools/FastFabric/chassis_fmcontrol.exp
index 477953a..2d69a0b 100755
--- a/IbaTools/FastFabric/chassis_fmcontrol.exp
+++ b/IbaTools/FastFabric/chassis_fmcontrol.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/chassis_fmgetconfig.exp b/IbaTools/FastFabric/chassis_fmgetconfig.exp
index 2e61cde..200d2d1 100755
--- a/IbaTools/FastFabric/chassis_fmgetconfig.exp
+++ b/IbaTools/FastFabric/chassis_fmgetconfig.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/chassis_fmgetsecurityfiles.exp b/IbaTools/FastFabric/chassis_fmgetsecurityfiles.exp
index d31e055..731b6ca 100755
--- a/IbaTools/FastFabric/chassis_fmgetsecurityfiles.exp
+++ b/IbaTools/FastFabric/chassis_fmgetsecurityfiles.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/chassis_fmsecurityfiles.exp b/IbaTools/FastFabric/chassis_fmsecurityfiles.exp
index 5c2a45d..5f162b8 100755
--- a/IbaTools/FastFabric/chassis_fmsecurityfiles.exp
+++ b/IbaTools/FastFabric/chassis_fmsecurityfiles.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/chassis_getconfig.exp b/IbaTools/FastFabric/chassis_getconfig.exp
index 7454afc..4d7b265 100644
--- a/IbaTools/FastFabric/chassis_getconfig.exp
+++ b/IbaTools/FastFabric/chassis_getconfig.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/IbaTools/FastFabric/chassis_reboot.exp b/IbaTools/FastFabric/chassis_reboot.exp
index b5f1f39..36b1ef0 100755
--- a/IbaTools/FastFabric/chassis_reboot.exp
+++ b/IbaTools/FastFabric/chassis_reboot.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/chassis_upgrade.exp b/IbaTools/FastFabric/chassis_upgrade.exp
index b2aa797..df0eb7a 100755
--- a/IbaTools/FastFabric/chassis_upgrade.exp
+++ b/IbaTools/FastFabric/chassis_upgrade.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/configipoib.exp b/IbaTools/FastFabric/configipoib.exp
index 1067311..f6b29b7 100755
--- a/IbaTools/FastFabric/configipoib.exp
+++ b/IbaTools/FastFabric/configipoib.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/ff_function.exp b/IbaTools/FastFabric/ff_function.exp
index ab64a00..73ca780 100755
--- a/IbaTools/FastFabric/ff_function.exp
+++ b/IbaTools/FastFabric/ff_function.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/ipoibping.exp b/IbaTools/FastFabric/ipoibping.exp
index 5739e60..5256620 100755
--- a/IbaTools/FastFabric/ipoibping.exp
+++ b/IbaTools/FastFabric/ipoibping.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/load.exp b/IbaTools/FastFabric/load.exp
index b9d0751..0a6b394 100755
--- a/IbaTools/FastFabric/load.exp
+++ b/IbaTools/FastFabric/load.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/mpiperf.exp b/IbaTools/FastFabric/mpiperf.exp
index 3b69e3a..c5cab3b 100755
--- a/IbaTools/FastFabric/mpiperf.exp
+++ b/IbaTools/FastFabric/mpiperf.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/mpiperfdeviation.exp b/IbaTools/FastFabric/mpiperfdeviation.exp
index bcd9839..48882e7 100755
--- a/IbaTools/FastFabric/mpiperfdeviation.exp
+++ b/IbaTools/FastFabric/mpiperfdeviation.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/reboot.exp b/IbaTools/FastFabric/reboot.exp
index 53fc4b6..1f9d7d9 100755
--- a/IbaTools/FastFabric/reboot.exp
+++ b/IbaTools/FastFabric/reboot.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/sacache.exp b/IbaTools/FastFabric/sacache.exp
index b9c188d..ae5f560 100755
--- a/IbaTools/FastFabric/sacache.exp
+++ b/IbaTools/FastFabric/sacache.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/switch_capture.exp b/IbaTools/FastFabric/switch_capture.exp
index 4e7054d..ceebd2b 100755
--- a/IbaTools/FastFabric/switch_capture.exp
+++ b/IbaTools/FastFabric/switch_capture.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/switch_configure.exp b/IbaTools/FastFabric/switch_configure.exp
index 3516482..91fa0ba 100644
--- a/IbaTools/FastFabric/switch_configure.exp
+++ b/IbaTools/FastFabric/switch_configure.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/IbaTools/FastFabric/switch_dump.exp b/IbaTools/FastFabric/switch_dump.exp
index dae0e5b..fe99822 100755
--- a/IbaTools/FastFabric/switch_dump.exp
+++ b/IbaTools/FastFabric/switch_dump.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/switch_fwverify.exp b/IbaTools/FastFabric/switch_fwverify.exp
index 7cf1101..449401e 100755
--- a/IbaTools/FastFabric/switch_fwverify.exp
+++ b/IbaTools/FastFabric/switch_fwverify.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
diff --git a/IbaTools/FastFabric/switch_getconfig.exp b/IbaTools/FastFabric/switch_getconfig.exp
index 30d6b3f..3944766 100755
--- a/IbaTools/FastFabric/switch_getconfig.exp
+++ b/IbaTools/FastFabric/switch_getconfig.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
diff --git a/IbaTools/FastFabric/switch_hwvpd.exp b/IbaTools/FastFabric/switch_hwvpd.exp
index 266518c..dfb1ef2 100755
--- a/IbaTools/FastFabric/switch_hwvpd.exp
+++ b/IbaTools/FastFabric/switch_hwvpd.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
diff --git a/IbaTools/FastFabric/switch_info.exp b/IbaTools/FastFabric/switch_info.exp
index 735a5e5..cfecfce 100755
--- a/IbaTools/FastFabric/switch_info.exp
+++ b/IbaTools/FastFabric/switch_info.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
diff --git a/IbaTools/FastFabric/switch_ping.exp b/IbaTools/FastFabric/switch_ping.exp
index 8773345..8230dc2 100755
--- a/IbaTools/FastFabric/switch_ping.exp
+++ b/IbaTools/FastFabric/switch_ping.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
diff --git a/IbaTools/FastFabric/switch_reboot.exp b/IbaTools/FastFabric/switch_reboot.exp
index 1ee19ea..572f92f 100755
--- a/IbaTools/FastFabric/switch_reboot.exp
+++ b/IbaTools/FastFabric/switch_reboot.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/switch_upgrade.exp b/IbaTools/FastFabric/switch_upgrade.exp
index 6c5c104..336572b 100755
--- a/IbaTools/FastFabric/switch_upgrade.exp
+++ b/IbaTools/FastFabric/switch_upgrade.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/IbaTools/FastFabric/upgrade.exp b/IbaTools/FastFabric/upgrade.exp
index dd4abe5..cae30ad 100755
--- a/IbaTools/FastFabric/upgrade.exp
+++ b/IbaTools/FastFabric/upgrade.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015-2017, Intel Corporation
diff --git a/TestTools/basic.exp b/TestTools/basic.exp
index 4ffe1f5..b3362ab 100755
--- a/TestTools/basic.exp
+++ b/TestTools/basic.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/chassis.exp b/TestTools/chassis.exp
index 9af2e9a..3ac72db 100755
--- a/TestTools/chassis.exp
+++ b/TestTools/chassis.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/common_funcs.exp b/TestTools/common_funcs.exp
index 68d55d8..7f62eb8 100644
--- a/TestTools/common_funcs.exp
+++ b/TestTools/common_funcs.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/defs.exp b/TestTools/defs.exp
index 8e1a8e6..ecb3e64 100644
--- a/TestTools/defs.exp
+++ b/TestTools/defs.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/extmng.exp b/TestTools/extmng.exp
index b513c61..ac57364 100755
--- a/TestTools/extmng.exp
+++ b/TestTools/extmng.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/ib.exp b/TestTools/ib.exp
index 06c4a6e..8e949cd 100755
--- a/TestTools/ib.exp
+++ b/TestTools/ib.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/ibtools.exp b/TestTools/ibtools.exp
index 36b945c..36bfdbf 100644
--- a/TestTools/ibtools.exp
+++ b/TestTools/ibtools.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/install.exp b/TestTools/install.exp
index 7736765..8f64eb3 100755
--- a/TestTools/install.exp
+++ b/TestTools/install.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/mpi.exp b/TestTools/mpi.exp
index 4fe36e9..05fedfa 100755
--- a/TestTools/mpi.exp
+++ b/TestTools/mpi.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/network.exp b/TestTools/network.exp
index c1b8867..b91a1ed 100755
--- a/TestTools/network.exp
+++ b/TestTools/network.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/opa_to_xml.exp b/TestTools/opa_to_xml.exp
index 448bfb4..9e0d8bc 100644
--- a/TestTools/opa_to_xml.exp
+++ b/TestTools/opa_to_xml.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/proc_mgr.exp b/TestTools/proc_mgr.exp
index abcb65d..94cb60f 100755
--- a/TestTools/proc_mgr.exp
+++ b/TestTools/proc_mgr.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/sm_control.exp b/TestTools/sm_control.exp
index 7f08ccb..bc89ad4 100755
--- a/TestTools/sm_control.exp
+++ b/TestTools/sm_control.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/switch_methods.exp b/TestTools/switch_methods.exp
index 9f13773..3b2b14f 100644
--- a/TestTools/switch_methods.exp
+++ b/TestTools/switch_methods.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/target.exp b/TestTools/target.exp
index 4e01d0d..8fa95db 100755
--- a/TestTools/target.exp
+++ b/TestTools/target.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
diff --git a/TestTools/tools.exp b/TestTools/tools.exp
index 850e789..aa7f825 100755
--- a/TestTools/tools.exp
+++ b/TestTools/tools.exp
@@ -1,3 +1,4 @@
+#!/usr/bin/expect -f
 # BEGIN_ICS_COPYRIGHT8 ****************************************
 # 
 # Copyright (c) 2015, Intel Corporation
-- 
2.20.1

